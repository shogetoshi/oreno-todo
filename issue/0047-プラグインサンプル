# プラグインシステムの導入

## 概要
処理の計測開始をした時に任意の動作をさせるプラグインを利用可能にする。

## 仕様

### プラグイン実行方式
- JavaScriptモジュール（Node.jsのrequire/importで読み込み）

### プラグイン配置場所
- `~/.oreno-todo/plugins/`
- ディレクトリ内の`.js`ファイルを自動的に読み込む

### プラグイン読み込みタイミング
- アプリ起動時に一度だけ読み込む
- 新規プラグインの追加・変更はアプリ再起動後に反映

### トリガーイベント
- 現時点では「計測開始」のみ
- 将来の拡張（計測停止、タスク完了など）を考慮した設計にする

### プラグインに渡すデータ
- そのTodo、カレンダーイベントのJSONデータ全体

### エラーハンドリング
- プラグインがエラーを起こした場合はログ出力して継続
- メイン処理（タイマー開始）は止めない

### プラグインAPI
```javascript
// プラグインファイルの例
module.exports = {
  name: 'plugin-name',
  onTimerStart: async (context) => {
  }
};
```

## サンプルプラグイン

### 配置
- このリポジトリの`sample-plugins/log-timer-start.js`に配置
- 実際のプラグインディレクトリ（`~/.oreno-todo/plugins/`）はリポジトリ管理外

### 機能
- 計測開始時に`/tmp/oreno-todo-log.txt`へ時刻を追記する

### 出力フォーマット
```
2026-01-09 10:30:00	TASK-001	タスク名
```
（タブ区切り）
